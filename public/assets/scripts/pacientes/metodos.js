let formulario=$("#formulario"),principal=$("#principal");document.getElementById("BtnMostrarFormulario").onclick=function(){principal.hide(),formulario.show(),$("#btnGuardarRegistro").show(),$("#btnActualizarRegistro").hide()};const guardarRegistro=()=>{""==es_paciente.value?Swal.fire("Error","Debe definir si la Persona es un Paciente o un Tutor!","error"):1==controlFormulario()?Swal.fire("Error","En proceso de desarrollo!","warning"):Swal.fire("Error","Existen campos obligatorios para poder registrar correctamente","error")},editarRegistro=()=>{Swal.fire("Error","En proceso de desarrollo!","warning")},limpiarFormulario=()=>{principal.show(),formulario.hide(),$("#tutores").hide(),$("#vinculo").hide(),$("#paciente").hide(),$("#tutor").hide(),$("#btnGuardarRegistro").show(),$("#btnActualizarRegistro").hide(),nombres_apellidos.value="",$("#id_ciudad").val(""),$("#id_ciudad").selectpicker("render"),$("#id_barrio").val(""),$("#id_barrio").selectpicker("render"),$("#id_tutor").val(""),$("#id_tutor").selectpicker("render"),ci_persona.value="",edad.value="",$("#vinculo_tutor").val(""),$("#vinculo_tutor").selectpicker("render"),direccion.value="",telefono.value="",es_paciente.value="",es_paciente.checked=!1},editar=e=>{principal.hide(),formulario.show(),$("#btnGuardarRegistro").hide(),$("#btnActualizarRegistro").show(),axios.get("listarpacientestutoresxid/"+e).then((function(e){let i=e.data[0];console.log(i),nombres_apellidos.value=i.nombres_apellidos,$("#id_ciudad").val(i.id_ciudad),$("#id_ciudad").selectpicker("render"),cargarBarrios(i.id_ciudad),setTimeout((function(){$("#id_barrio").val(i.id_barrio),$("#id_barrio").selectpicker("render")}),700),null==i.id_tutor||""==i.id_tutor?($("#tutores").hide(),$("#vinculo").hide(),$("#paciente").hide(),$("#tutor").show()):($("#tutores").show(),$("#vinculo").show(),$("#paciente").show(),$("#tutor").hide(),$("#id_tutor").val(i.id_tutor),$("#id_tutor").selectpicker("render"),$("#vinculo_tutor").val(i.id_vinculo),$("#vinculo_tutor").selectpicker("render")),ci_persona.value=i.ci_persona,edad.value=i.edad,direccion.value=i.direccion,telefono.value=i.telefono,1==i.es_paciente?es_paciente.checked=!0:es_paciente.checked=!1})).catch((function(e){console.log(e)}))},desactivar=e=>{console.log(e),Swal.fire("Usuario!","Por el momento no se puede desactivar la Persona!","warning")},activar=e=>{console.log(e),Swal.fire("Usuario!","Por el momento no se puede activar la Persona!","warning")},controlFormulario=()=>(error=0,""==nombres_apellidos.value?(error=1,document.getElementById("nombres_apellidos_ck").style.visibility="visible",nombres_apellidos.style.border="0.1px solid #f1646c"):(nombres_apellidos.style="",document.getElementById("nombres_apellidos_ck").style.visibility="hidden",error=0),""==id_ciudad.value?(error=1,document.getElementById("id_ciudad_ck").style.visibility="visible",sele=document.querySelectorAll(".dropdown-toggle"),sele.forEach((function(e){"id_ciudad"==e.dataset.id&&(e.style.border="0.1px solid #f1646c")}))):(sele=document.querySelectorAll(".dropdown-toggle"),sele.forEach((function(e){"id_ciudad"==e.dataset.id&&(e.style="")})),document.getElementById("id_ciudad_ck").style.visibility="hidden",error=0),""==id_barrio.value?(error=1,document.getElementById("id_barrio_ck").style.visibility="visible",sele=document.querySelectorAll(".dropdown-toggle"),sele.forEach((function(e){"id_barrio"==e.dataset.id&&(e.style.border="0.1px solid #f1646c")}))):(sele=document.querySelectorAll(".dropdown-toggle"),sele.forEach((function(e){"id_barrio"==e.dataset.id&&(e.style="")})),document.getElementById("id_barrio_ck").style.visibility="hidden",error=0),""==ci_persona.value?(error=1,document.getElementById("ci_persona_ck").style.visibility="visible",ci_persona.style.border="0.1px solid #f1646c"):(ci_persona.style="",document.getElementById("ci_persona_ck").style.visibility="hidden",error=0),""==edad.value?(error=1,document.getElementById("edad_ck").style.visibility="visible",edad.style.border="0.1px solid #f1646c"):(edad.style="",document.getElementById("edad_ck").style.visibility="hidden",error=0),""==direccion.value?(error=1,document.getElementById("direccion_ck").style.visibility="visible",direccion.style.border="0.1px solid #f1646c"):(direccion.style="",document.getElementById("direccion_ck").style.visibility="hidden",error=0),""==telefono.value?(error=1,document.getElementById("telefono_ck").style.visibility="visible",telefono.style.border="0.1px solid #f1646c"):(telefono.style="",document.getElementById("telefono_ck").style.visibility="hidden",error=0),0==error||(alertify.error("FALTA DATOS PARA REGISTRO!"),!1)),cargarBarrios=e=>{axios.get("listarbarriosxidciudad/"+e).then((function(e){e.data.forEach((e=>{document.getElementById("id_barrio").innerHTML+="<option value='"+e.id_barrio+"'>"+e.nombre+"</option>"})),$("#id_barrio").selectpicker("refresh"),$("#id_barrio").val(""),$("#id_barrio").selectpicker("render")})).catch((function(e){console.log(e)}))};
